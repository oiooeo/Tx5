<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"
    />
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" /> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <title>Tx5</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"
    />

    <style>
      @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@400;500;600;700&display=swap');

      * {
        font-family: 'IBM Plex Sans KR', sans-serif;
        letter-spacing: 2px;
      }

      .mytitle {
        width: 100%;
        height: 160px;

        background-color: #78ad80;
        color: #ffffff;
        font-size: xx-large;
        font-weight: 500;

        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        margin-bottom: 70px;
      }

      #add_btn {
        position: absolute;
        top: 20px;
        right: 20px;
        background-image: url(https://i.postimg.cc/PfmRQkxQ/plus-circle-regular-24.png);
        width: 40px;
        height: 40px;
        background-position: center;
        background-size: cover;
      }

      .team {
        text-align: center;
        width: 70%;
        padding: 10px;
        margin-left: auto;
        margin-right: auto;
        margin-top: 30px;
        margin-bottom: 50px;
        background: linear-gradient(to right, #f9ff8c8b, #76ff7b85);
        color: #444444;
        border-radius: 15px;
      }
    </style>
  </head>

  <body>
    <div class="mytitle">
      <h1>𝐓 𝐱 𝟓</h1>
      <a
        id="add_btn"
        class="add_button"
        role="button"
        href="/manage/create"
      ></a>
    </div>

    <div class="team">
      ✦ MBTI T 5명의 모임 ✦ <br />
      <br />
      📍 목표 📍 <br />
      프로젝트 잘 끝내기 <br />
      능력 짱 개발자 되기 <br />
      <br />
      --------------------------------------------- <br />
      <br />
      🤙🏻 우리 팀의 약속 🤙🏻 <br />
      시간 약속 잘 지키기 ! <br />
    </div>
    <button onclick="listing()">다시 불러오기</button>
    <ul id="list"></ul>
    <script>
      window.onload = (e) => {
        listing();
      };
      const list = document.getElementById('list');

      async function listing() {
        try {
          const res = await fetch('/api/member');
          const json = await res.json();
          console.log(json);
          list.innerHTML = '';
          json['result'].map((member) => {
            const card = document.createElement('li');
            temp_html = `
                <div>
                  <a href='/member/${member.id}'><p>${member.name}</p></a>
                  <p>${member.photo_url}</p>
                  <p>${member.mbti}</p>
                  <p>${member.advantage}</p>
                  <p>${member.co_style}</p>
                  <p>${member.desc}</p>
                  <p>${member.blog_url}</p>
                </div>
              `;
            card.innerHTML = temp_html;
            list.appendChild(card);
          });
        } catch (e) {
          alert(e);
        }
      }
    </script>
  </body>
</html>
